<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FUNCTIONARE SAAS - BETIX Multi-Tenant Bot</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      header h1 {
        font-size: 3em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 50px;
        padding: 30px;
        background: #f8f9fa;
        border-radius: 15px;
        border-left: 5px solid #667eea;
      }

      .section h2 {
        color: #667eea;
        font-size: 2em;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
      }

      .section h3 {
        color: #764ba2;
        font-size: 1.5em;
        margin: 25px 0 15px 0;
        padding-left: 20px;
        border-left: 3px solid #764ba2;
      }

      .section h4 {
        color: #555;
        font-size: 1.2em;
        margin: 20px 0 10px 0;
        font-weight: 600;
      }

      .emoji {
        font-size: 1.2em;
        margin-right: 10px;
      }

      .code-block {
        background: #2d3748;
        color: #68d391;
        padding: 20px;
        border-radius: 10px;
        overflow-x: auto;
        margin: 15px 0;
        font-family: "Courier New", monospace;
        font-size: 0.9em;
        line-height: 1.5;
      }

      .table-container {
        overflow-x: auto;
        margin: 20px 0;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      th {
        background: #667eea;
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: 600;
      }

      td {
        padding: 12px 15px;
        border-bottom: 1px solid #e2e8f0;
      }

      tr:hover {
        background: #f7fafc;
      }

      .step {
        background: white;
        padding: 20px;
        margin: 15px 0;
        border-radius: 10px;
        border-left: 4px solid #48bb78;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .step-number {
        display: inline-block;
        background: #48bb78;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        margin-right: 10px;
      }

      .arrow {
        text-align: center;
        color: #667eea;
        font-size: 2em;
        margin: 10px 0;
      }

      .success {
        color: #48bb78;
        font-weight: bold;
      }

      .error {
        color: #f56565;
        font-weight: bold;
      }

      .warning {
        color: #ed8936;
        font-weight: bold;
      }

      .info {
        background: #ebf8ff;
        border-left: 4px solid #4299e1;
        padding: 15px;
        margin: 15px 0;
        border-radius: 5px;
      }

      ul,
      ol {
        margin-left: 30px;
        margin-top: 10px;
      }

      li {
        margin: 8px 0;
      }

      .highlight {
        background: #fef5e7;
        padding: 2px 6px;
        border-radius: 3px;
        font-weight: 600;
      }

      footer {
        background: #2d3748;
        color: white;
        text-align: center;
        padding: 30px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üöÄ FUNCTIONARE SAAS - BETIX</h1>
        <p>Documenta»õie CompletƒÉ Multi-Tenant Bot System</p>
        <p style="font-size: 0.9em; margin-top: 10px">
          Data: 30 Noiembrie 2025 | Versiune: 1.0
        </p>
      </header>

      <div class="content">
        <!-- ARHITECTURA GENERALƒÇ -->
        <div class="section">
          <h2><span class="emoji">üèóÔ∏è</span>ARHITECTURA GENERALƒÇ</h2>

          <h3>Componente Principale</h3>
          <ul>
            <li><strong>Frontend:</strong> Vue 3 + Vite + TailwindCSS</li>
            <li><strong>Backend:</strong> FastAPI + Python 3.8+</li>
            <li>
              <strong>Database:</strong> PostgreSQL (users, teams,
              betfair_credentials)
            </li>
            <li>
              <strong>Storage:</strong> Google Sheets (meciuri, statistici,
              strategii)
            </li>
            <li>
              <strong>API Extern:</strong> Betfair API (pariuri, odds,
              rezultate)
            </li>
          </ul>

          <h3>Principii Multi-Tenant</h3>
          <div class="info">
            <strong>üîí Izolare CompletƒÉ Per User:</strong>
            <ul>
              <li>
                Fiecare user are propriile credentials Betfair (encrypted √Æn
                database)
              </li>
              <li>
                Fiecare user are propriul Google Sheets (spreadsheet_id unic)
              </li>
              <li>
                Fiecare user vede doar teams-urile lui (filter by user_id)
              </li>
              <li>
                Bot-ul ruleazƒÉ SEPARAT pentru fiecare user (staggered execution)
              </li>
            </ul>
          </div>

          <h3>Planuri de Abonament</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Plan</th>
                  <th>Pre»õ</th>
                  <th>Max Teams</th>
                  <th>Trial</th>
                  <th>DuratƒÉ</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Demo</strong></td>
                  <td>Gratuit</td>
                  <td>5</td>
                  <td>3 zile</td>
                  <td>Trial</td>
                </tr>
                <tr>
                  <td><strong>Simplu</strong></td>
                  <td>49 ‚Ç¨/lunƒÉ</td>
                  <td>5</td>
                  <td>-</td>
                  <td>30 zile</td>
                </tr>
                <tr>
                  <td><strong>Comun</strong></td>
                  <td>75 ‚Ç¨/lunƒÉ</td>
                  <td>10</td>
                  <td>-</td>
                  <td>30 zile</td>
                </tr>
                <tr>
                  <td><strong>Extrem</strong></td>
                  <td>150 ‚Ç¨/lunƒÉ</td>
                  <td>25</td>
                  <td>-</td>
                  <td>30 zile</td>
                </tr>
                <tr>
                  <td><strong>Premium</strong></td>
                  <td>250 ‚Ç¨/lunƒÉ</td>
                  <td>‚àû (Nelimitat)</td>
                  <td>-</td>
                  <td>30 zile</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- FLUXUL COMPLET USER -->
        <div class="section">
          <h2><span class="emoji">üë§</span>FLUXUL COMPLET AL USER-ULUI</h2>

          <h3>ZIUA 1: √énregistrare »ôi Configurare</h3>

          <div class="step">
            <h4><span class="step-number">1</span>√énregistrare User</h4>
            <div class="code-block">
              User: john@example.com ‚Üì POST /api/auth/register - email:
              john@example.com - password: *** - full_name: John Doe ‚Üì Backend
              creeazƒÉ √Æn DATABASE: - user_id: uuid-john - subscription_plan:
              demo - subscription_status: trial - subscription_ends_at: NOW() +
              3 days - max_teams: 5 - google_sheets_id: NULL (√ÆncƒÉ)
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <div class="step">
            <h4><span class="step-number">2</span>Login ‚Üí Dashboard</h4>
            <div class="code-block">
              User login ‚Üì Dashboard afi»ôeazƒÉ: ‚úÖ Subscription Banner: "Trial -
              3 zile rƒÉmase" ‚ö†Ô∏è Betfair Setup Prompt: "Configurare necesarƒÉ"
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <div class="step">
            <h4>
              <span class="step-number">3</span>Betfair Setup Wizard (30
              secunde)
            </h4>
            <div class="code-block">
              User click "ConfigureazƒÉ Acum" ‚Üì
              <strong>Step 1: Creden»õiale Betfair</strong>
              - Username: john_betfair - Password: *** - Click "VerificƒÉ" ‚úÖ ‚Üì
              <strong>Step 2: App Key</strong>
              - User urmeazƒÉ instruc»õiunile - GenereazƒÉ App Key pe Betfair -
              Introduce: wKqS7N8xK9xK7N8x - Click "FinalizeazƒÉ Setup" ‚úÖ ‚Üì
              Backend salveazƒÉ ENCRYPTED √Æn DATABASE: - betfair_credentials
              table: - user_id: uuid-john - username:
              <span class="success">encrypt("john_betfair")</span> - password:
              <span class="success">encrypt("***")</span> - app_key:
              <span class="success">encrypt("wKqS7N8xK9xK7N8x")</span>
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <div class="step">
            <h4><span class="step-number">4</span>User AdaugƒÉ Prima EchipƒÉ</h4>
            <div class="code-block">
              User: Dashboard ‚Üí Meniu "Echipe" ‚Üí "AdaugƒÉ EchipƒÉ" ‚Üì User cautƒÉ:
              "Liverpool" ‚Üì Frontend: GET /api/teams/search-betfair?q=Liverpool
              ‚Üì Backend: - Connect to Betfair API (cu credentials john) - CautƒÉ
              echipe: list_events(text_query="Liverpool") - ReturneazƒÉ:
              ["Liverpool FC", "Liverpool U21", ...] ‚Üì User selecteazƒÉ:
              "Liverpool FC" - Sport: Football - League: Premier League -
              Country: England ‚Üì User click "AdaugƒÉ" ‚úÖ
            </div>
          </div>
        </div>

        <!-- BACKEND PROCESARE ECHIPƒÇ -->
        <div class="section">
          <h2><span class="emoji">‚öôÔ∏è</span>BACKEND PROCESEAZƒÇ ECHIPA</h2>

          <div class="step">
            <h4>
              <span class="step-number">5</span>POST /api/teams - Procesare
              CompletƒÉ
            </h4>

            <h4 style="margin-top: 20px">1Ô∏è‚É£ ValidƒÉri</h4>
            <div class="code-block">
              ‚úÖ VerificƒÉ subscription_status: "trial" ‚úÖ VerificƒÉ max_teams:
              0/5 (OK!)
            </div>

            <h4 style="margin-top: 20px">
              2Ô∏è‚É£ CreeazƒÉ Google Sheets (dacƒÉ nu existƒÉ)
            </h4>
            <div class="code-block">
              Spreadsheet: "john@example.com_teams" ‚Üì Sheet "Index" cu headers:
              | ID | Name | Sport | Status | Cumulative Loss | Last Stake |
              Progression Step | Initial Stake | ‚Üì SalveazƒÉ spreadsheet_id √Æn
              user.google_sheets_id
            </div>

            <h4 style="margin-top: 20px">3Ô∏è‚É£ SalveazƒÉ √Æn DATABASE</h4>
            <div class="code-block">
              INSERT INTO teams: - id: uuid-liverpool - user_id: uuid-john -
              name: Liverpool FC - sport: football - status: active

              <span class="warning"
                >NOTƒÇ: cumulative_loss »ôi progression_step NU se folosesc din
                database!</span
              >
              <span class="success"
                >Se citesc DOAR din Google Sheets Index!</span
              >
            </div>

            <h4 style="margin-top: 20px">4Ô∏è‚É£ SalveazƒÉ √Æn GOOGLE SHEETS Index</h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Sport</th>
                  <th>Status</th>
                  <th>Cumulative Loss</th>
                  <th>Last Stake</th>
                  <th>Progression Step</th>
                  <th>Initial Stake</th>
                </tr>
                <tr>
                  <td>uuid-liverpool</td>
                  <td>Liverpool FC</td>
                  <td>football</td>
                  <td>active</td>
                  <td>0</td>
                  <td>100</td>
                  <td>0</td>
                  <td>100</td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">5Ô∏è‚É£ CreeazƒÉ Sheet "Liverpool FC"</h4>
            <div class="code-block">
              Headers: | Data | Meci | Competi»õie | CotƒÉ | MizƒÉ | Status |
              Profit/Loss | Bet ID |
            </div>

            <h4 style="margin-top: 20px">
              6Ô∏è‚É£ CautƒÉ UrmƒÉtoarele 20 Meciuri pe Betfair
            </h4>
            <div class="code-block">
              Connect to Betfair API (cu credentials john) ‚Üì
              list_events(event_type_id="1", text_query="Liverpool FC") ‚Üì Pentru
              fiecare meci (max 20): - Get market_catalogue pentru event details
              - Get market_book pentru odds exacte - Extract: data, nume meci,
              competi»õie, cotƒÉ
            </div>

            <h4 style="margin-top: 20px">
              7Ô∏è‚É£ Scrie TOATE Meciurile √Æn Google Sheets
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Data</th>
                  <th>Meci</th>
                  <th>Competi»õie</th>
                  <th>CotƒÉ</th>
                  <th>MizƒÉ</th>
                  <th>Status</th>
                  <th>Profit/Loss</th>
                  <th>Bet ID</th>
                </tr>
                <tr>
                  <td>2025-12-01</td>
                  <td>Liverpool vs Arsenal</td>
                  <td>Premier League</td>
                  <td>1.85</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>2025-12-05</td>
                  <td>Chelsea vs Liverpool</td>
                  <td>Premier League</td>
                  <td>2.10</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>2025-12-10</td>
                  <td>Liverpool vs Man City</td>
                  <td>Premier League</td>
                  <td>1.95</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td colspan="8" style="text-align: center">
                    ... (p√¢nƒÉ la 20 meciuri)
                  </td>
                </tr>
              </table>
            </div>

            <div class="info" style="margin-top: 20px">
              <strong>‚úÖ User vede: "EchipƒÉ adƒÉugatƒÉ cu succes!"</strong>
            </div>
          </div>
        </div>

        <!-- BOT AUTOMAT -->
        <div class="section">
          <h2><span class="emoji">ü§ñ</span>BOT RULEAZƒÇ AUTOMAT</h2>

          <h3>ZIUA 2: Scheduler Multi-User (13:00)</h3>

          <div class="step">
            <h4><span class="step-number">6</span>Cron Job Porne»ôte</h4>
            <div class="code-block">
              Cron Job (13:00): ‚Üì multi_user_scheduler.run_for_all_users() ‚Üì
              <strong>1. Query useri activi din DATABASE:</strong>

              SELECT * FROM users WHERE is_active = true AND subscription_status
              IN ('active', 'trial') AND subscription_ends_at > NOW() AND EXISTS
              ( SELECT 1 FROM betfair_credentials WHERE user_id = users.id ) AND
              EXISTS ( SELECT 1 FROM teams WHERE user_id = users.id AND status =
              'active' ) Rezultat: [john@example.com, maria@example.com, ...] ‚Üì
              <strong>2. Loop prin fiecare user (staggered execution):</strong>
              - Pentru john@example.com - DELAY 30 secunde - Pentru
              maria@example.com - DELAY 30 secunde - ...
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <div class="step">
            <h4>
              <span class="step-number">7</span>UserBotService pentru John
            </h4>

            <h4 style="margin-top: 20px">Initialize:</h4>
            <div class="code-block">
              <strong>1. Load Betfair credentials din DATABASE:</strong>

              SELECT username, password, app_key FROM betfair_credentials WHERE
              user_id = 'uuid-john' ‚Üì
              <strong>Decrypt:</strong>
              - username: "john_betfair" - password: "***" - app_key:
              "wKqS7N8xK9xK7N8x" ‚Üì
              <strong>2. Connect to Betfair API</strong> (cu credentials john) ‚Üì
              <strong>3. Initialize Google Sheets:</strong>
              - spreadsheet_id: john's spreadsheet ‚Üì
              <strong>4. Load teams din DATABASE:</strong>

              SELECT * FROM teams WHERE user_id = 'uuid-john' AND status =
              'active' Rezultat: [Liverpool FC]
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <div class="step">
            <h4><span class="step-number">8</span>ProceseazƒÉ Liverpool FC</h4>

            <h4 style="margin-top: 20px">1. VerificƒÉ PENDING</h4>
            <div class="code-block">
              Cite»ôte Sheet "Liverpool FC" CautƒÉ Status = "PENDING" Rezultat:
              <span class="success">NU (OK!)</span>
            </div>

            <h4 style="margin-top: 20px">2. Cite»ôte Meciuri Programate</h4>
            <div class="code-block">
              Cite»ôte Sheet "Liverpool FC" FiltreazƒÉ: Status = gol (fƒÉrƒÉ status)
              ‚Üì Rezultat: | Data | Meci | CotƒÉ | Status |
              |------------|-----------------------|------|--------| |
              2025-12-01 | Liverpool vs Arsenal | 1.85 | | ‚Üê ‚úÖ | 2025-12-05 |
              Chelsea vs Liverpool | 2.10 | | | 2025-12-10 | Liverpool vs Man
              City | 1.95 | |
            </div>

            <h4 style="margin-top: 20px">3. SorteazƒÉ »ôi Ia PRIMUL</h4>
            <div class="code-block">
              <span class="success">Match: "Liverpool vs Arsenal"</span>
              <span class="success">Data: "2025-12-01"</span>
              <span class="success">CotƒÉ: 1.85</span>
            </div>

            <h4 style="margin-top: 20px">
              4. Cite»ôte Team Data din Google Sheets Index
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Name</th>
                  <th>Cumulative Loss</th>
                  <th>Progression Step</th>
                  <th>Initial Stake</th>
                </tr>
                <tr>
                  <td>Liverpool FC</td>
                  <td>0</td>
                  <td>0</td>
                  <td>100</td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">5. CalculeazƒÉ MizƒÉ Martingale</h4>
            <div class="code-block">
              <strong>Formula:</strong>
              stake = (cumulative_loss / (odds - 1)) + initial_stake

              <strong>Calcul:</strong>
              stake = (0 / (1.85 - 1)) + 100 stake = (0 / 0.85) + 100 stake = 0
              + 100 stake = <span class="success">100 RON</span>

              <span class="info"
                >(cumulative_loss = 0, deci e primul pariu)</span
              >
            </div>

            <h4 style="margin-top: 20px">
              6. GƒÉse»ôte Meciul pe Betfair (by date + name)
            </h4>
            <div class="code-block">
              list_events(text_query="Liverpool") ‚Üì FiltreazƒÉ: - data =
              "2025-12-01" »òI - name con»õine "Liverpool" ‚Üì
              <span class="success">GƒÉsit: event_id = "32547891"</span>
            </div>

            <h4 style="margin-top: 20px">7. Get Market »ôi Selection</h4>
            <div class="code-block">
              list_market_catalogue(event_ids=["32547891"]) ‚Üì market_id =
              "1.234567" ‚Üì GƒÉse»ôte runner "Liverpool": selection_id = 123
            </div>

            <h4 style="margin-top: 20px">8. PlaseazƒÉ Pariu pe Betfair</h4>
            <div class="code-block">
              place_bet( market_id="1.234567", selection_id=123, stake=100,
              odds=1.85 ) ‚Üì
              <span class="success"
                >Betfair returneazƒÉ: bet_id = "987654321"</span
              >
            </div>

            <h4 style="margin-top: 20px">
              9. UPDATE Google Sheets "Liverpool FC"
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Data</th>
                  <th>Meci</th>
                  <th>CotƒÉ</th>
                  <th>MizƒÉ</th>
                  <th>Status</th>
                  <th>Profit/Loss</th>
                  <th>Bet ID</th>
                </tr>
                <tr style="background: #d4edda">
                  <td>2025-12-01</td>
                  <td>Liverpool vs Arsenal</td>
                  <td>1.85</td>
                  <td><strong>100</strong></td>
                  <td><strong>PENDING</strong></td>
                  <td>0</td>
                  <td><strong>987654321</strong></td>
                </tr>
                <tr>
                  <td>2025-12-05</td>
                  <td>Chelsea vs Liverpool</td>
                  <td>2.10</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">10. UPDATE Google Sheets Index</h4>
            <div class="code-block">
              UPDATE Index: - Last Stake = 100 ‚Üì
              <span class="success"
                >‚úÖ Logger: "Pariu plasat: Liverpool FC - Liverpool vs Arsenal -
                100 RON @ 1.85"</span
              >
            </div>
          </div>
        </div>

        <!-- VERIFICARE REZULTATE -->
        <div class="section">
          <h2>
            <span class="emoji">üîç</span>VERIFICARE REZULTATE »òI CONTINUARE
            STRATEGIE
          </h2>

          <h3>ZIUA 3: Liverpool PIERDE</h3>

          <div class="step">
            <h4>
              <span class="step-number">9</span>Bot VerificƒÉ Rezultate
              (Periodic)
            </h4>

            <h4 style="margin-top: 20px">1. Cite»ôte Pariuri PENDING</h4>
            <div class="code-block">
              Cite»ôte toate sheet-urile echipelor FiltreazƒÉ: Status = "PENDING"
              ‚Üì Rezultat: | Team | Meci | Bet ID | MizƒÉ | CotƒÉ |
              |-------------|----------------------|-----------|------|------| |
              Liverpool FC| Liverpool vs Arsenal | 987654321 | 100 | 1.85 |
            </div>

            <h4 style="margin-top: 20px">
              2. Get Settled Orders de pe Betfair
            </h4>
            <div class="code-block">
              get_settled_orders(days=3) ‚Üì Betfair returneazƒÉ: [ { "betId":
              "987654321", "profit": <span class="error">-100</span>, // ‚Üê
              PIERDUT! "settledDate": "2025-12-01T18:00:00Z" } ]
            </div>

            <h4 style="margin-top: 20px">3. Match bet_id »ôi ProceseazƒÉ</h4>
            <div class="code-block">
              bet_id: "987654321" gƒÉsit! ‚úÖ profit = -100 ‚Üí
              <span class="error">LOST</span>
              ‚Üì
              <strong>Cite»ôte team data din Google Sheets Index:</strong>
              | Name | Cumulative Loss | Progression Step |
              |-------------|-----------------|------------------| | Liverpool
              FC| 0 | 0 | ‚Üì
              <strong>ProceseazƒÉ LOST:</strong>
              staking_service.process_loss(stake=100, cumulative_loss=0, step=0)
              ‚Üì Rezultat: - loss_amount = -100 - new_cumulative_loss = 0 + 100 =
              <span class="error">100</span> - new_progression_step = 0 + 1 =
              <span class="error">1</span>
            </div>

            <h4 style="margin-top: 20px">
              4. UPDATE Google Sheets "Liverpool FC"
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Data</th>
                  <th>Meci</th>
                  <th>CotƒÉ</th>
                  <th>MizƒÉ</th>
                  <th>Status</th>
                  <th>Profit/Loss</th>
                  <th>Bet ID</th>
                </tr>
                <tr style="background: #f8d7da">
                  <td>2025-12-01</td>
                  <td>Liverpool vs Arsenal</td>
                  <td>1.85</td>
                  <td>100</td>
                  <td><strong class="error">LOST</strong></td>
                  <td><strong class="error">-100</strong></td>
                  <td>987654321</td>
                </tr>
                <tr>
                  <td>2025-12-05</td>
                  <td>Chelsea vs Liverpool</td>
                  <td>2.10</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">5. UPDATE Google Sheets Index</h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Name</th>
                  <th>Cumulative Loss</th>
                  <th>Progression Step</th>
                </tr>
                <tr style="background: #f8d7da">
                  <td>Liverpool FC</td>
                  <td><strong class="error">100</strong></td>
                  <td><strong class="error">1</strong></td>
                </tr>
              </table>
            </div>

            <div class="code-block" style="margin-top: 20px">
              <span class="error"
                >‚ùå Logger: "LOST: Liverpool FC - Liverpool vs Arsenal - Loss:
                -100 RON"</span
              >
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <h3>ZIUA 4: Bot ContinuƒÉ Strategia (13:00)</h3>

          <div class="step">
            <h4>
              <span class="step-number">10</span>Bot RuleazƒÉ Din Nou -
              Martingale √Æn Ac»õiune
            </h4>

            <h4 style="margin-top: 20px">1. VerificƒÉ PENDING: NU ‚úÖ</h4>

            <h4 style="margin-top: 20px">2. Cite»ôte Meciuri Programate</h4>
            <div class="code-block">
              | Data | Meci | CotƒÉ | Status |
              |------------|-----------------------|------|--------| |
              2025-12-01 | Liverpool vs Arsenal | 1.85 | LOST | ‚Üê Skip (are
              status) | 2025-12-05 | Chelsea vs Liverpool | 2.10 | | ‚Üê ‚úÖ PRIMUL
              fƒÉrƒÉ status! | 2025-12-10 | Liverpool vs Man City | 1.95 | |
            </div>

            <h4 style="margin-top: 20px">3. Ia PRIMUL fƒÉrƒÉ status</h4>
            <div class="code-block">
              <span class="success">Match: "Chelsea vs Liverpool"</span>
              <span class="success">Data: "2025-12-05"</span>
              <span class="success">CotƒÉ: 2.10</span>
            </div>

            <h4 style="margin-top: 20px">
              4. Cite»ôte Team Data din Google Sheets Index
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Name</th>
                  <th>Cumulative Loss</th>
                  <th>Progression Step</th>
                  <th>Initial Stake</th>
                </tr>
                <tr style="background: #fff3cd">
                  <td>Liverpool FC</td>
                  <td><strong>100</strong></td>
                  <td><strong>1</strong></td>
                  <td>100</td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">
              5. CalculeazƒÉ MizƒÉ Martingale (Strategia √Æn Ac»õiune!)
            </h4>
            <div class="code-block">
              <strong>Formula:</strong>
              stake = (cumulative_loss / (odds - 1)) + initial_stake

              <strong>Calcul:</strong>
              stake = (100 / (2.10 - 1)) + 100 stake = (100 / 1.10) + 100 stake
              = 90.91 + 100 stake = 190.91 ‚âà
              <span class="warning">191 RON</span>

              <span class="warning"
                >‚ö†Ô∏è Miza cre»ôte pentru a recupera pierderea!</span
              >
            </div>

            <h4 style="margin-top: 20px">
              6-8. GƒÉse»ôte Meci, PlaseazƒÉ Pariu (la fel ca √Ænainte)
            </h4>

            <h4 style="margin-top: 20px">
              9. UPDATE Google Sheets "Liverpool FC"
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Data</th>
                  <th>Meci</th>
                  <th>CotƒÉ</th>
                  <th>MizƒÉ</th>
                  <th>Status</th>
                  <th>Profit/Loss</th>
                  <th>Bet ID</th>
                </tr>
                <tr style="background: #f8d7da">
                  <td>2025-12-01</td>
                  <td>Liverpool vs Arsenal</td>
                  <td>1.85</td>
                  <td>100</td>
                  <td>LOST</td>
                  <td>-100</td>
                  <td>987654321</td>
                </tr>
                <tr style="background: #d4edda">
                  <td>2025-12-05</td>
                  <td>Chelsea vs Liverpool</td>
                  <td>2.10</td>
                  <td><strong>191</strong></td>
                  <td><strong>PENDING</strong></td>
                  <td>0</td>
                  <td><strong>111222333</strong></td>
                </tr>
                <tr>
                  <td>2025-12-10</td>
                  <td>Liverpool vs Man City</td>
                  <td>1.95</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>

            <div class="code-block" style="margin-top: 20px">
              <span class="success"
                >‚úÖ Logger: "Pariu plasat: Liverpool FC - Chelsea vs Liverpool -
                191 RON @ 2.10"</span
              >
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <h3>ZIUA 5: Chelsea vs Liverpool ‚Üí WON! üéâ</h3>

          <div class="step">
            <h4>
              <span class="step-number">11</span>Bot VerificƒÉ Rezultate -
              C√Ç»òTIG!
            </h4>

            <h4 style="margin-top: 20px">1. Cite»ôte PENDING</h4>
            <div class="code-block">
              "Chelsea vs Liverpool" (bet_id: 111222333)
            </div>

            <h4 style="margin-top: 20px">2. Get Settled Orders</h4>
            <div class="code-block">
              { "betId": "111222333", "profit":
              <span class="success">+210</span>, // ‚Üê C√Ç»òTIGAT! "settledDate":
              "2025-12-05T20:00:00Z" } ‚Üì profit = +210 ‚Üí
              <span class="success">WON ‚úÖ</span>
            </div>

            <h4 style="margin-top: 20px">3. ProceseazƒÉ WON</h4>
            <div class="code-block">
              staking_service.process_win(stake=191, odds=2.10) ‚Üì Rezultat: -
              profit_amount = 191 * (2.10 - 1) = 191 * 1.10 =
              <span class="success">+210 RON</span> - new_cumulative_loss =
              <span class="success">0 (RESET!)</span> - new_progression_step =
              <span class="success">0 (RESET!)</span>
            </div>

            <h4 style="margin-top: 20px">
              4. UPDATE Google Sheets "Liverpool FC"
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Data</th>
                  <th>Meci</th>
                  <th>CotƒÉ</th>
                  <th>MizƒÉ</th>
                  <th>Status</th>
                  <th>Profit/Loss</th>
                  <th>Bet ID</th>
                </tr>
                <tr style="background: #f8d7da">
                  <td>2025-12-01</td>
                  <td>Liverpool vs Arsenal</td>
                  <td>1.85</td>
                  <td>100</td>
                  <td>LOST</td>
                  <td>-100</td>
                  <td>987654321</td>
                </tr>
                <tr style="background: #d4edda">
                  <td>2025-12-05</td>
                  <td>Chelsea vs Liverpool</td>
                  <td>2.10</td>
                  <td>191</td>
                  <td><strong class="success">WON</strong></td>
                  <td><strong class="success">+210</strong></td>
                  <td>111222333</td>
                </tr>
                <tr>
                  <td>2025-12-10</td>
                  <td>Liverpool vs Man City</td>
                  <td>1.95</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>

            <h4 style="margin-top: 20px">
              5. UPDATE Google Sheets Index (RESET!)
            </h4>
            <div class="table-container">
              <table>
                <tr>
                  <th>Name</th>
                  <th>Cumulative Loss</th>
                  <th>Progression Step</th>
                </tr>
                <tr style="background: #d4edda">
                  <td>Liverpool FC</td>
                  <td><strong class="success">0</strong> ‚Üê RESET!</td>
                  <td><strong class="success">0</strong> ‚Üê RESET!</td>
                </tr>
              </table>
            </div>

            <div class="info" style="margin-top: 20px">
              <strong>üéâ Profit NET: +210 - 100 = +110 RON ‚úÖ</strong><br />
              <span class="success"
                >‚úÖ Logger: "WON: Liverpool FC - Chelsea vs Liverpool - Profit:
                +210 RON"</span
              >
            </div>
          </div>

          <div class="arrow">‚Üì</div>

          <h3>ZIUA 6: Bot √éncepe Din Nou cu MizƒÉ Ini»õialƒÉ</h3>

          <div class="step">
            <h4><span class="step-number">12</span>Strategia Se ReseteazƒÉ</h4>

            <div class="code-block">
              Cite»ôte Index: - cumulative_loss = 0 - progression_step = 0 ‚Üì
              CalculeazƒÉ mizƒÉ: stake = (0 / (1.95 - 1)) + 100 =
              <span class="success">100 RON</span> ‚Üì UrmƒÉtorul meci: "Liverpool
              vs Man City" cu <span class="success">100 RON</span> ‚úÖ

              <strong>Strategia continuƒÉ automat!</strong>
            </div>
          </div>
        </div>

        <!-- REZUMAT FINAL -->
        <div class="section">
          <h2><span class="emoji">üìä</span>REZUMAT FLUX COMPLET</h2>

          <div class="info">
            <h3 style="margin-bottom: 15px">Pa»ôi Principali:</h3>
            <ol style="line-height: 2">
              <li>
                <strong>User adaugƒÉ echipƒÉ</strong> ‚Üí Backend populate Google
                Sheets cu 20 meciuri
              </li>
              <li>
                <strong>Bot ruleazƒÉ la ora setatƒÉ</strong> ‚Üí Cite»ôte primul meci
                fƒÉrƒÉ status
              </li>
              <li>
                <strong>Bot cite»ôte cumulative_loss</strong> din Google Sheets
                Index
              </li>
              <li><strong>Bot calculeazƒÉ mizƒÉ Martingale</strong></li>
              <li><strong>Bot plaseazƒÉ pariu pe Betfair</strong></li>
              <li>
                <strong>Bot scrie Status=PENDING</strong> √Æn Google Sheets
              </li>
              <li>
                <strong>Bot verificƒÉ rezultate</strong> ‚Üí Update Status=WON/LOST
              </li>
              <li>
                <strong>Bot update cumulative_loss</strong> √Æn Google Sheets
                Index
              </li>
              <li>
                <strong>Strategia continuƒÉ automat</strong> cu urmƒÉtorul meci
              </li>
            </ol>
          </div>

          <div
            class="info"
            style="
              margin-top: 20px;
              background: #d4edda;
              border-left-color: #48bb78;
            "
          >
            <h3 style="color: #48bb78; margin-bottom: 15px">
              ‚úÖ Avantaje Multi-Tenant:
            </h3>
            <ul style="line-height: 2">
              <li>
                <strong>Izolare CompletƒÉ:</strong> Fiecare user are propriile
                credentials, sheets, teams
              </li>
              <li>
                <strong>Scalabilitate:</strong> Bot ruleazƒÉ pentru to»õi userii
                (staggered execution)
              </li>
              <li>
                <strong>Security:</strong> Credentials encrypted, ownership
                verification
              </li>
              <li>
                <strong>Flexibilitate:</strong> Fiecare user poate avea planuri
                diferite
              </li>
              <li>
                <strong>Automatizare:</strong> User nu face NIMIC dupƒÉ ce adaugƒÉ
                echipa!
              </li>
            </ul>
          </div>

          <div
            class="info"
            style="
              margin-top: 20px;
              background: #fff3cd;
              border-left-color: #ed8936;
            "
          >
            <h3 style="color: #ed8936; margin-bottom: 15px">‚ö†Ô∏è Importante:</h3>
            <ul style="line-height: 2">
              <li>
                <strong>cumulative_loss »ôi progression_step</strong> se citesc
                DOAR din Google Sheets Index
              </li>
              <li>
                <strong>Database</strong> se folose»ôte doar pentru: user_id,
                name, status (basic info)
              </li>
              <li>
                <strong>Google Sheets</strong> = Source of Truth pentru
                strategia Martingale
              </li>
              <li>
                <strong>Bot verificƒÉ PENDING</strong> √Ænainte sƒÉ plaseze pariu
                nou
              </li>
              <li><strong>Strategia se reseteazƒÉ</strong> automat la WON</li>
            </ul>
          </div>
        </div>

        <footer>
          <p style="font-size: 1.2em; margin-bottom: 10px">
            üöÄ <strong>BETIX Multi-Tenant Bot System</strong>
          </p>
          <p>Documenta»õie CompletƒÉ - Versiune 1.0</p>
          <p style="margin-top: 10px; opacity: 0.8">30 Noiembrie 2025</p>
        </footer>
      </div>
    </div>
  </body>
</html>
